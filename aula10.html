<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aula 10</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
  <h1>Aula 10 - LocalStorage</h1>


  <button type="button" class="btn btn-primary" onclick="salvarCidade()">Gravar Porto Alegre</button>
  <br><br>
  <button type="button" class="btn btn-danger" onclick="limparLocalStorage()">Limpar localStorage</button>
  <br><br>
  <div class="form-row">
    <div class="form-group col-md-3">
        <h3>Cidade Desejada</h3><br>
      <input type="text" class="form-control" id="cidadeUsuario" placeholder="Digite a cidade"><br>
      <button type="button" class="btn btn-success" onclick="salvarCidadeUsuario()">Gravar</button>
    </div><br>
  <div class="form-row">
    <div class="form-group col-md-2">
        <h3>Gravar Produto</h3><br>
        <input type="text" class="form-control" id="descricao" placeholder="Descrição">
        <br>
        <input type="text" class="form-control" id="preco" placeholder="Preço"><br>
        <button type="button" class="btn btn-warning" onclick="salvarProduto()">Gravar Produto</button>
    </div><br>
  <br><br>
  <button type="button" class="btn btn-info" onclick="mostrarLocalStorage()">MostrarLocalStorage</button>

  <script>
    function salvarCidade() {
      localStorage.setItem('Cidade', 'Porto Alegre');
      alert("Porto Alegre gravado com sucesso");
    }

    function limparLocalStorage() {
      localStorage.clear();
      location.reload();
    }
    function salvarCidadeUsuario() {
        var cidadeUsuario = document.getElementById('cidadeUsuario').value;
            if(cidadeUsuario){
                localStorage.setItem('Cidade_Usuario', cidadeUsuario);
                alert("salvo com sucesso");
                 }
            else{
                alert("Preencha a caixa de texto e tente novamente");
            }
    }

    function salvarProduto() {
      var descricao = document.getElementById('descricao').value;
      var preco = document.getElementById('preco').value;
            if(descricao && preco){
                var produto = { descricao: descricao, preco: preco };
                localStorage.setItem('Produto', JSON.stringify(produto));
                alert("salvo com sucesso");
            }
            else{
                alert("preencha as 2 caixas de texto e tente novamente")
            }
    }

    function mostrarLocalStorage() {
      var conteudo = "<h4>Conteúdo do LocalStorage:</h4>";
      for (var i = 0; i < localStorage.length; i++) {
        var chave = localStorage.key(i);
        var valor = localStorage.getItem(chave);
        conteudo += "<p>" + chave + ": " + valor + "</p>";
      }
      document.body.innerHTML += conteudo;
    }
  </script>
</body>
</html>
